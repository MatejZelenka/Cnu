<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    const languages = [
  { name: 'JavaScript', satisfaction: 10, type: 'functional' },
  { name: 'Java', satisfaction: 5, type: 'object-oriented'},
  { name: 'Kotlin', satisfaction: 8, type: 'functional' },
  { name: '.NET', satisfaction: 3, type: 'object-oriented'},
  { name: 'Elm', satisfaction: 10, type: 'functional' },
  { name: 'Rust', satisfaction: 8, type: 'functional'},
  { name: 'Go', satisfaction: 8, type: 'unknown' },
  { name: 'Php', satisfaction: 0, type: 'object-oriented'},
];

// 1. Give us array of language names which contains `Java` in name.

const languageNames = languages
  .filter(({name}) => {
    if (name === 'Java') return name;
    })
  .map(({name}) => name);

console.log(languageNames);

// 2. Give us array of language names with satisfaction greater or equals to `5`.

const langSatisfaction = languages
  .filter(({name, satisfaction}) => {
    if (satisfaction >= 5) return name;
  })
  .map(({name}) => name);

console.log(langSatisfaction);

// 3. Give us array of language names, but if a language satisfaction is lower than `3`, instead of name use string `Filipe j치 to sem d치vat nebudu!`.

const phpHate = languages.map(({satisfaction, name}) => {
  return (satisfaction < 3) ? 'Filipe, j치 to sem d치vat nebudu' : (name);
});
console.log(phpHate);

// 4. Give us the average (arithmetic mean) satisfaction of `functional` languages.

const functional = languages.filter(language => language.type === 'functional');
const functionalAverage = functional.reduce((a, b) => a + b.satisfaction, 0) / functional.length;
console.log(functionalAverage);

// 5. Give us language names grouped by type: `{"object-oriented": ["Java", ".NET", "Php"], ...}`.

const types = languages.reduce((group, language) => {
  const category = language.type;
  group[category] = group[category] || [];
  group[category].push(language.name);
  return group;
}, {})

console.log(types);

// 6. Give us language names grouped by satisfaction categories ("A": 10-8, "B": 7-5, C: 5-3, "Garbage": 3-0): `{A: [...], B: [...], ...}`.

const getSatisfaction = (satisfaction) => {
  if (satisfaction >= 8) return 'A';
  if (satisfaction >= 5) return 'B';
  if (satisfaction >= 3) return 'C';
  return 'Garbage';
}

//funkce by mela mit sloveso

const categories = languages.reduce((group, language) => {
  const category = getSatisfaction(language.satisfaction);
  group[category] = group[category] || [];
  group[category].push(language.name);
  return group;
}, {})


console.log(categories);

// 7. Give us average satisfaction grouped by language type: `{"object-oriented": 2.66, ...}`.

const satisfactionGroup = languages.reduce((group, language) => {
  const category = language.type;
  group[category] = group[category] || [];
  group[category].push(language.satisfaction);
  return group;
}, {});

console.log(satisfactionGroup);

const objectKeys = Object.keys(satisfactionGroup);

const average = objectKeys.reduce((satAverage, type) => {
  satisfaction = satisfactionGroup[type] || [];
  const sum = satisfaction.reduce((a, b) => a + b);
  const average2 = sum / satisfaction.length;
  satAverage[type] = average2;
  return satAverage; 
}, {})

console.log(average);
</script>
</html>